#!/usr/bin/env bash

export LC_CTYPE=en_US.UTF-8
export LC_ALL=en_US.UTF-8

export EDITOR='vim';

# Set the appropriate umask.
#
umask 002

# Enable the useful Bash 4 features:
#  - autocd, no need to type 'cd' when changing directory
#  - cdable_vars, 'cd FOO' where FOO is an environment variable
#  - cdspell, automatically fix small directory typos when changing directory
#  - globstar, ** recursive glob
shopt -s autocd cdable_vars cdspell globstar

[ -f /usr/local/etc/profile.d/autojump.sh ] && . /usr/local/etc/profile.d/autojump.sh

if [[ "$OSTYPE" == "darwin"* ]]; then
  # Homebrew 
  if [ -d /usr/local/sbin ]; then
    PATH=/usr/local/sbin:$PATH
  fi

  # Support Rusts cargo build tool (via rustup)
  if [ -d ~/.cargo/bin ]; then
    PATH="~/.cargo/bin:$PATH"
    source $HOME/.cargo/env
  fi

  # miniconda3 installation
  #if [ -d ~/miniconda3 ]; then
  #  PATH="~/miniconda3/bin:$PATH"
  #  PATH="~/miniconda3/pkgs:$PATH"
  #fi

  # my own scripts
  if [ -d ~/.bin ]; then
    PATH=$PATH:~/.bin
  fi

  # Fix Homebrew-Python commands
  # https://docs.brew.sh/Homebrew-and-Python#note-on-pip-install---user
  # ~/Library/Python/X.Y/bin
  if brew ls --versions python > /dev/null; then
    for i in ~/Library/Python/3.*
    do
      PATH=$PATH:"${i}/bin"
    done
  fi

  if [ -d ~/.sdkman ]; then
    export SDKMAN_DIR="$HOME/.sdkman"
    [[ -s "$HOME/.sdkman/bin/sdkman-init.sh" ]] && source "$HOME/.sdkman/bin/sdkman-init.sh"
  fi

fi

export PATH
